---
interface Props {
	repo?: string;
	repoId?: string;
	category?: string;
	categoryId?: string;
}

const repo = Astro.props.repo ?? import.meta.env.PUBLIC_GISCUS_REPO ?? 'mkhokhar21/koccricket';
const repoId = Astro.props.repoId ?? import.meta.env.PUBLIC_GISCUS_REPO_ID ?? 'REPO_ID_HERE';
const category = Astro.props.category ?? import.meta.env.PUBLIC_GISCUS_CATEGORY ?? 'Announcements';
const categoryId =
	Astro.props.categoryId ?? import.meta.env.PUBLIC_GISCUS_CATEGORY_ID ?? 'CATEGORY_ID_HERE';
---
<section class="card" id="comments">
	<h2>Join the conversation</h2>
	<p>Comments are powered by GitHub Discussions via giscus.</p>
	<script
		src="https://giscus.app/client.js"
		data-repo={repo}
		data-repo-id={repoId}
		data-category={category}
		data-category-id={categoryId}
		data-mapping="pathname"
		data-strict="0"
		data-reactions-enabled="1"
		data-emit-metadata="0"
		data-input-position="bottom"
		data-theme="dark"
		data-lang="en"
		crossorigin="anonymous"
		async
	></script>
	<noscript>Enable JavaScript to load the discussion thread.</noscript>
</section>
